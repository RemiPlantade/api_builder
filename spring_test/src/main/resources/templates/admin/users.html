<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
	layout:decorate="~{fragments/layout}">
<head>
<meta charset="ISO-8859-1">
<title>User Configuration</title>
</head>
<body>
	<div layout:fragment="content">

				<h1 class="title is-4 has-text-centered">User management</h1>
				<div class="box">
					<div class="columns is-centered">
						<div class="column is-4 is-centered">
							<h1 class="title is-5 has-text-centered">Adding User</h1>
							<form name="login" th:action="@{adduser}" method="post"
								th:object="${user}">
								<div class="columns">
									<div class="column is-centered">
										<div class="field ">
											<label class="label">Username</label>
											<div class="control">
												<input type="text" name="username" id="username"
													class="input is-info" th:field="*{username}" /> <span
													th:if="${#fields.hasErrors('username')}"
													th:errors="*{username}" style="color: red;"></span>

											</div>
										</div>
										<div class="field ">
											<label class="label">Email</label>
											<div class="control">
												<input type="email" name="mail" id="mail"
													class="input is-info" th:field="*{mail}" /> <span
													th:if="${#fields.hasErrors('mail')}" class="help-block"
													th:errors="*{mail}" style="color: red;"></span>
											</div>
										</div>
										<div class="field ">
											<label class="label">Max Quota</label>
											<div class="control">
												<input type="text" name="username" id="username"
													class="input is-info" th:field="*{username}" /> <span
													th:if="${#fields.hasErrors('username')}"
													th:errors="*{username}" style="color: red;"></span>

											</div>
										</div>
										<div class="field is-grouped">
											<div class="control">
												<input class="button is-link" type="submit" value="Submit" />
											</div>
										</div>
									</div>
									<div class="column is-4">
										<div class="field ">
											<label class="label">Group</label>
											<div class="control">
												<div class="select is-multiple is-info is-3">
													<select multiple size="5">
														<option th:each="group : ${groups}" th:text="${group.name}" th:value="${group.name}"></option>
													</select>
												</div>
											</div>
										</div>
									</div>
								</div>
							</form>
						</div>
					</div>
					<div class="columns is-centered">
						<div class="column is-6 is-centered">
							<h1 class="title is-5 has-text-centered">Existing Users</h1>
							<table class="table">
								<thead>
									<tr>
										<th>ID</th>
										<th>Username</th>
										<th>Email</th>
										<th>Token</th>
										<th>Max Quota</th>
										<th>Actual Quota</th>
										<th>Group</th>
									</tr>
								</thead>
								<tbody>
									<tr th:each="user : ${users}">
										<td th:text="${user.id}"></td>
										<td th:text="${user.username}"></td>
										<td th:text="${user.mail}"></td>
										<td th:text="${user.token}"></td>
										<td th:text="${user.maxquota}"></td>
										<td th:text="${user.actualquota}"></td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>

</body>
</html>